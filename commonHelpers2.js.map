{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n    email: \"\",\n    message: \"\",\n}\nconst registerForm = document.querySelector(\".feedback-form\");\nconst inputEmail = document.querySelector('input[name=\"email\"]');\nconst inputMessage = document.querySelector('textarea[name=\"message\"]');\n\n\nconst saveToLocalStorage = () => {\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n};\nwindow.addEventListener('DOMContentLoaded', () => {\nconst savedData = loadFromLS('feedback-form-state');\n    if (savedData) {\n        formData = savedData;\n        registerForm.elements.email.value = formData?.email ?? '';\n        registerForm.elements.message.value = formData?.message ?? '';\n    }\n});\n\nregisterForm.addEventListener('input', () => {\n  formData.email = registerForm.elements.email.value.trim();\n  formData.message = registerForm.elements.message.value.trim();\n\n  saveToLS('feedback-form-state', formData);\n});\n\nregisterForm.addEventListener('submit', e => {\n  e.preventDefault();\nlet email = registerForm.elements.email.value.trim();\nlet message = registerForm.elements.message.value.trim();\nif (email === \"\" || message === \"\") {\nreturn alert('Fill please all fields');\n};\nformData.email = email;\nformData.message = message;  \n  console.log(formData);\n\n  registerForm.reset();\n\n    localStorage.removeItem('feedback-form-state');\n    formData.email = '';\n    formData.message = '';\n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}\n"],"names":["formData","registerForm","savedData","loadFromLS","saveToLS","e","email","message","key","value","jsonData","json"],"mappings":"wFAAA,IAAIA,EAAW,CACX,MAAO,GACP,QAAS,EACb,EACA,MAAMC,EAAe,SAAS,cAAc,gBAAgB,EACzC,SAAS,cAAc,qBAAqB,EAC1C,SAAS,cAAc,0BAA0B,EAMtE,OAAO,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAYC,EAAW,qBAAqB,EAC1CD,IACAF,EAAWE,EACXD,EAAa,SAAS,MAAM,OAAQD,GAAA,YAAAA,EAAU,QAAS,GACvDC,EAAa,SAAS,QAAQ,OAAQD,GAAA,YAAAA,EAAU,UAAW,GAEnE,CAAC,EAEDC,EAAa,iBAAiB,QAAS,IAAM,CAC3CD,EAAS,MAAQC,EAAa,SAAS,MAAM,MAAM,OACnDD,EAAS,QAAUC,EAAa,SAAS,QAAQ,MAAM,OAEvDG,EAAS,sBAAuBJ,CAAQ,CAC1C,CAAC,EAEDC,EAAa,iBAAiB,SAAUI,GAAK,CAC3CA,EAAE,eAAc,EAClB,IAAIC,EAAQL,EAAa,SAAS,MAAM,MAAM,KAAI,EAC9CM,EAAUN,EAAa,SAAS,QAAQ,MAAM,KAAI,EACtD,GAAIK,IAAU,IAAMC,IAAY,GAChC,OAAO,MAAM,wBAAwB,EAErCP,EAAS,MAAQM,EACjBN,EAAS,QAAUO,EACjB,QAAQ,IAAIP,CAAQ,EAEpBC,EAAa,MAAK,EAEhB,aAAa,WAAW,qBAAqB,EAC7CD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACvB,CAAC,EAED,SAASI,EAASI,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASP,EAAWK,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMG,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH"}